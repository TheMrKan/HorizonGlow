<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/static/styles/style.css">
    <script type="text/javascript" src="/static/js/jquery-3.7.1.min.js"></script>
    <script type="text/javascript" src="/static/js/app.js"></script>
    <script type="text/javascript" src="/static/js/header.js"></script>
    <title>Horizon Glow: News</title>
</head>
<body>

<script>
    $(document).ready(function() {
        loadProfile();
        // loadPurchases();
    });

    let purchases = [];

    function loadPurchases() {
        $.get({
            url: "/api/account/purchases/",
            dataType: "json",
            success: function(data) {
                purchases = data;
                const purchasesBag = $(`#purchasesBag`);
                const template = $("#purchaseTemplate");

                for (let pur of purchases) {
                    const productElement = template.clone()
                    productElement.attr("id", null);
                    productElement.find(".cell > span").first().removeClass("is-skeleton").addClass("has-text-grey-light").text(pur.description);
                    productElement.find(".productNumber").removeClass("is-skeleton").addClass("has-text-white-ter").text(pur.number);
                    productElement.find(".productScore").removeClass("is-skeleton").addClass("has-text-white-ter").text(pur.score);
                    productElement.find(".productPrice").removeClass("is-skeleton").addClass("has-text-white-ter").text(`${+Number(pur.price).toFixed(2)}$`);
                    productElement.find(".productPurchasedAtIcon").removeClass("is-skeleton");

                    const date = new Date(pur["purchasedAt"]);
                    const dateString = ('0' + (date.getMonth() + 1)).slice(-2) + '/' + ('0' + date.getDate()).slice(-2);
                    productElement.find(".productPurchasedAt").removeClass("is-skeleton").addClass("has-text-white-ter").text(dateString);

                    const downloadButton = productElement.find(".productDownloadButton").removeClass("is-skeleton");
                    if (pur["fileAvailable"]) {
                        downloadButton.click(() => window.location.href=pur["fileUrl"]);
                    }
                    else {
                        downloadButton.attr("disabled", true);
                    }

                    purchasesBag.append(productElement);
                }

                template.hide();
            },
            error: function(jqXHR, textStatus, errorThrown) {
                tryHandleAuthError(jqXHR);

                showError(jqXHR);
            }
        });
    }
</script>

<section class="section container pt-4">
    <div class="columns is-centered">
        <div class="column is-12">

            <div class="pageContent">

                <div class="box">
                    <div class="level mb-2" style="--bulma-level-item-spacing: 0.25rem;">
                        <div class="level-left">
                            <div class="level-item">
                                <span class="is-size-5 has-text-white-ter has-text-weight-bold">Lorem ipsum dolor sit amet!</span>
                            </div>
                        </div>
                        <div class="level-right">
                            <div class="level-item">
                                <span class="is-size-6 has-text-grey-dark has-text-weight-bold">01/09/2025</span>
                            </div>
                        </div>
                    </div>

                    <div class="content">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum id justo arcu. Vestibulum
                        ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae;
                    </div>
                </div>
                <div class="box">
                    <div class="level mb-2" style="--bulma-level-item-spacing: 0.25rem;">
                        <div class="level-left">
                            <div class="level-item">
                                <span class="is-size-5 has-text-white-ter has-text-weight-bold">Morbi in augue nec ipsum porta ultrices non eget odio. Etiam a elit vel ex tincidunt tempus.</span>
                            </div>
                        </div>
                        <div class="level-right">
                            <div class="level-item">
                                <span class="is-size-6 has-text-grey-dark has-text-weight-bold">01/01/2025</span>
                            </div>
                        </div>
                    </div>

                    <div class="content">
                        Cras ullamcorper dui ut magna mollis, id cursus massa scelerisque. Ut iaculis arcu eu turpis
                        lobortis, sed varius mi maximus. <br>Sed sit amet justo sit amet quam dapibus ultrices eu et nisl.
                        Curabitur maximus lorem sit amet imperdiet hendrerit. Mauris magna augue, varius et mi quis,
                        tempus finibus ex. Mauris at sapien leo. Quisque ac efficitur ligula. Proin sed ex eget leo
                        viverra sagittis. Donec quis molestie lacus, pharetra pretium augue.<br>
                        Curabitur euismod ultricies odio ut sodales. Ut porttitor egestas turpis, ac dapibus nisi
                        consectetur at. Aliquam congue varius sapien at porta. Sed vestibulum in tortor ut eleifend.
                        Maecenas condimentum libero non dapibus congue. Donec dignissim, justo ut consequat pharetra,
                        nibh tellus consectetur mi, placerat elementum dolor justo sit amet nunc. <br><br>Cras ac metus vel
                        massa lacinia sollicitudin. Mauris porta leo elit, eget consectetur odio pretium ut.
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="section container mt-0 pt-0 mb-5 pb-0 footer-custom">
    <div class="columns is-centered">
        <div class="column is-12">
            <div class="box mt-5">
                <div class="footer-qrs">
                    <div class="footer-qr">
                        <a href="https://t.me/HORIZON_GLOW_TEAM" target="_blank">
                            <img src="static/img/qr_tg_team.png" width="120" height="120"/>
                        </a>
                        <div>
                            <a href="https://t.me/HORIZON_GLOW_TEAM" target="_blank">
                                <span class="icon">
                                    <i class="fa-brands fa-telegram"></i>
                                </span>
                                OUR CHANNEL:<br>
                                @HORIZON_GLOW_TEAM
                            </a>
                        </div>
                    </div>

                    <div class="vertical-line"></div>

                    <div class="footer-qr">
                        <a href="https://t.me/HORIZON_GLOW_FEEDBACK" target="_blank">
                            <img src="static/img/qr_tg_feedback.png" width="120" height="120"/>
                        </a>
                        <div>
                            <a href="https://t.me/HORIZON_GLOW_FEEDBACK" target="_blank">
                                    <span class="icon">
                                        <i class="fa-brands fa-telegram"></i>
                                    </span>
                                OUR FEEDBACK:<br>
                                @HORIZON_GLOW_FEEDBACK
                            </a>
                        </div>

                    </div>
                </div>

                <div class="footer-copyrights">
                    <span>Â©2020-2025 Horizon Glow, All Rights Reserved.</span>
                </div>
            </div>

        </div>
    </div>
</section>
</body>

</html>